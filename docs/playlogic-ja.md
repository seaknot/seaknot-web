---
PlayLogic
...


## 基本的なコンセプト

### 永続データ

**永続データ**とは、セーブデータに含められるデータであり、ゲーム内の全ての状態はこの永続データから計算できなくてはいけません。

ブール値を保存する**フラグ**と文字列を保存する**永続的文字列**があります。

永続データはユーザからの入力時に更新することができます。無限ループを避けるため、ユーザ入力を伴わない更新はしません。

### 状態

**状態**とは、ゲーム内の NPC などの振る舞いを決めるときの内部的な状態です。永続的データが更新された時に、関連する状態が自動的に更新されます。

状態は永続データからのみ決定されます。状態を直接更新することはできません。

### 永続データと状態のリンク

状態はかならず 1 個以上の永続データにリンクします。永続データとリンクしないと状態を更新する方法がありません。

また、1 個の永続データは複数の状態とリンクすることができます。

このリンク構造によって、永続データが更新された時に自動的に状態が更新され、この時に何らかの画面効果を伴うこともできます。
たとえば、NPC やアイテムを消したり表示させたりするなどです。

